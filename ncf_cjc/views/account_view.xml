<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <record id="ncf_cjc_view_account_journal_form" model="ir.ui.view">
            <field name="name">ncf_cjc_view_account_journal_form</field>
            <field name="model">account.journal</field>
            <field name="inherit_id" ref="account.view_account_journal_form"/>
            <field name="arch" type="xml">

                <field name="type" position="after">
                    <field name="petty_cash" attrs="{'invisible': [('type','not in',('cash','purchase'))]}"/>
                </field>

            </field>
        </record>

        <!-- Inherit Form View to Modify it -->
        <record id="ncf_cjc_view_account_payment_form" model="ir.ui.view">
            <field name="name">ncf_cjc_view_account_payment_form</field>
            <field name="model">account.payment</field>
            <field name="inherit_id" ref="account.view_account_payment_form"/>
            <field name="arch" type="xml">

                <button name="post" position="replace">
                    <button name="pre_post" class="oe_highlight" states="draft" string="Confirm" type="object"/>
                </button>

                <field name="communication" position="replace">
                    <field name="communication" attrs="{'invisible': [('communication', '=', False)], 'readonly': [('state', '!=', 'draft')]}"/>
                    <field name="statement_id" attrs="{'invisible': [('petty_cash', '=', False)], 'readonly': [('state', '!=', 'draft')]}"/>
                </field>

                <field name="partner_type" position="replace">
                    <field name="partner_type" nolabel="1" widget="selection" string=""
                       attrs="{'required': [('payment_type', 'in', ('inbound', 'outbound', 'cjc'))], 'invisible': [('payment_type', 'not in', ('inbound', 'outbound', 'cjc'))], 'readonly': [('state', '!=', 'draft')]}"/>
                </field>

                <field name="partner_id" position="after">
                    <field name="petty_cash"
                       attrs="{'invisible': [('payment_type', 'not in', ('outbound'))], 'readonly': [('state', '!=', 'draft')]}"/>
                    <field name="cjc_journal_id"
                           attrs="{'required': [('petty_cash', '=', True)], 'invisible': [('petty_cash', '!=', True)], 'readonly': [('state', '!=', 'draft')]}"
                           widget="selection"/>
                </field>

            </field>
        </record>


        <!-- Inherit Form View to Modify it -->
        <record id="cnf_cjc_view_bank_statement_form" model="ir.ui.view">
            <field name="name">cnf_cjc_view_bank_statement_form</field>
            <field name="model">account.bank.statement</field>
            <field name="inherit_id" ref="account.view_bank_statement_form"/>
            <field name="arch" type="xml">

                <field name="journal_id" position="after">
                    <field name="petty_cash" invisible="1"/>
                    <field name="employee_id" attrs="{'invisible': [('petty_cash','=','False')]}" string="Custodio"/>
                    <field name="cjc_id" attrs="{'invisible': [('petty_cash','=','False')]}"/>
                </field>

            </field>
        </record>

    </data>
</openerp>