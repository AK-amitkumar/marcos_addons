<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <record id="ncf_manager_fiscal_position_form" model="ir.ui.view">
            <field name="name">ncf fiscal positio manager</field>
            <field name="model">account.fiscal.position</field>
            <field name="inherit_id" ref="account.view_account_position_form"/>
            <field name="arch" type="xml">

                <field name="auto_apply" position="before">
                    <field name="supplier"/>
                    <field name="client_fiscal_type" attrs="{'invisible':[('supplier','=',True)]}"/>
                    <field name="supplier_fiscal_type" attrs="{'invisible':[('supplier','!=',True)]}"/>
                    <field name="journal_id" attrs="{'invisible':[('supplier','!=',True)]}"/>
                </field>
                <xpath expr="//tree//field[@name='tax_dest_id']" position="replace">
                    <field name="tax_dest_id" domain="[('type_tax_use', '!=', None)]"/>
                </xpath>
                <xpath expr="//form//field[@name='tax_dest_id']" position="replace">
                    <field name="tax_dest_id" domain="[('type_tax_use', '!=', None)]"/>
                </xpath>

            </field>
        </record>

        <record id="ncf_manager_account_journal_form" model="ir.ui.view">
            <field name="name">ncf manager aacount journal form</field>
            <field name="model">account.journal</field>
            <field name="inherit_id" ref="account.view_account_journal_form"/>
            <field name="arch" type="xml">

                <field name="type" position="after">
                    <field name="purchase_type" attrs="{'invisible': [('type','!=','purchase')]}" widget="radio"/>
                    <field name="ncf_remote_validation" attrs="{'invisible': [('type','!=','purchase')]}"/>
                </field>

                <field name="code" position="replace">
                    <field name="code"
                           attrs="{'readonly': ['|',('type', 'in', ['bank','cash'])], 'required': [('type', 'not in', ['bank', 'cash'])]}"/>
                </field>
                <field name="refund_sequence_id" position="replace"/>

                <xpath expr="//page[@name='journal_entries']" position="inside">

                    <group attrs="{'invisible':[('type','!=','sale')]}">
                        <field name="final_sequence_id"/>
                        <field name="fiscal_sequence_id"/>
                        <field name="gov_sequence_id"/>
                        <field name="special_sequence_id"/>
                        <field name="unique_sequence_id"/>
                        <field name="refund_sequence_id" string="Secuencia para nota de crÃ©dito"
                               attrs="{'invisible': ['|',('type', 'not in', ['sale', 'purchase']), ('refund_sequence', '!=', True)]}"
                               required="0" groups="base.group_no_one"/>
                    </group>

                </xpath>

            </field>
        </record>

        <record id="ncf_manager_account_tax_form" model="ir.ui.view">
            <field name="name">ncf manager account tax form</field>
            <field name="model">account.tax</field>
            <field name="inherit_id" ref="account.view_tax_form"/>
            <field name="arch" type="xml">

                <field name="type_tax_use" position="after">
                    <field name="purchase_tax_type" widget="radio"
                           attrs="{'invisible': [('type_tax_use','!=','purchase')]}"/>
                </field>
                <field name="price_include" position="before">
                    <field name="tax_except"/>
                </field>

            </field>
        </record>

        <menuitem action="account.action_account_moves_all_a" icon="STOCK_JUSTIFY_FILL" id="account.menu_action_account_moves_all"
                  parent="account.menu_finance_entries" sequence="1" groups="account.group_account_manager"/>

    </data>
</openerp>